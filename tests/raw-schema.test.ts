import swaggerToTS from "../src/index";

describe("rawSchema", () => {
  it("v2", () => {
    expect(
      swaggerToTS(
        {
          User: {
            type: "object",
            properties: {
              name: { type: "string" },
              email: { type: "string" },
            },
            required: ["name", "email"],
          },
        },
        { version: 2, rawSchema: true }
      )
    ).toBe(`/**
 * This file was auto-generated by openapi-typescript.
 * Do not make direct changes to the file.
 */

export interface definitions {
  User: { name: string; email: string };
}\n`);
  });

  it("v3", () => {
    expect(
      swaggerToTS(
        {
          User: {
            type: "object",
            properties: {
              name: { type: "string" },
              email: { type: "string" },
            },
            required: ["name", "email"],
          },
        },
        { version: 3, rawSchema: true }
      )
    ).toBe(`/**
 * This file was auto-generated by openapi-typescript.
 * Do not make direct changes to the file.
 */

export interface schemas {
  User: { name: string; email: string };
}\n`);
  });
});
